<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>帳號註冊</title>
    {% load static %}
</head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>

    @keyframes shake {
        0% { transform: translateX(0); }
        25% { transform: translateX(-10px); }
        50% { transform: translateX(10px); }
        75% { transform: translateX(-10px); }
        100% { transform: translateX(0); }
    }

    .shake {
        animation: shake 0.4s ease;
    }

    .bg-img {
        position: fixed;
        width: 100%;
        height: 100%;
        background-image: url('{% static "/home/other/會員-底圖.jpg" %}');
        background-repeat: no-repeat;
        background-position: center; /* 圖片置中 */
        background-size: cover; /* 確保圖片覆蓋整個背景且保持比例 */
        z-index: -1;
    }
    
    .bg-img::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(255, 255, 255, 0.2); /* 白色半透明疊加層，透明度 50% */
        z-index: 1; /* 疊加層在背景上方 */
    }
    .modal-body {
        max-height: 300px; /* 固定高度 */
        overflow-y: auto; /* 允許垂直滾動 */
    }

    .form-check-label {
        color: black; /* 完全不透明的黑色 */
    }


</style>
<body>
    <div class="bg-img"></div>
    <section class="vh-100 bg-image">
        <div class="mask d-flex align-items-center h-100 gradient-custom-3">
            <div class="container h-100">
                <div class="row d-flex justify-content-center align-items-center h-100">
                    <div class="col-12 col-md-9 col-lg-7 col-xl-6">
                        <div class="card" style="border-radius: 15px;">
                            <div class="card-body p-5">
                                <h2 class="text-uppercase text-center mb-5">Create an account</h2>
                                <form action='/adduser/' method="post">
                                    {% csrf_token %}
                                    <div data-mdb-input-init class="form-outline mb-4">
                                    <input type="text" class="form-control form-control-lg" id="username" name="username" placeholder="Your Name" required/>
                                    <!-- <label class="form-label" for="form3Example1cg">Your Name</label> -->
                                    </div>

                                    <div data-mdb-input-init class="form-outline mb-4">
                                    <input type="email" class="form-control form-control-lg" id="email" name="email" placeholder="Your Email" required/>
                                    </div>

                                    <div data-mdb-input-init class="form-outline mb-4">
                                        <input type="text" class="form-control form-control-lg" id="phone" name="phone" placeholder="Your phone-number" required/>
                                    </div>

                                    <div data-mdb-input-init class="form-outline mb-4">
                                        <input type="text" class="form-control form-control-lg" id="account" name="account" placeholder="Account" required/>
                                    </div>

                                    <div data-mdb-input-init class="form-outline mb-4">
                                    <input type="password" class="form-control form-control-lg" id="password" name="password" placeholder="Password" required/>
                                    </div>

                                    <div data-mdb-input-init class="form-outline mb-4">
                                    <input type="password" class="form-control form-control-lg" id="password-twice" name="password-twice" placeholder="Repeat your password"/>
                                    </div>

                                    <div class="form-check d-flex justify-content-center mb-5">
                                    <input class="form-check-input me-2" type="checkbox" value="" id="agree" name="agree" required onclick="this.checked=!this.checked"/>
                                    <label class="form-check-label" for="form2Example3g">
                                        I have read all statements in
                                    </label>
                                    <a href="#!" class="text-body" id="terms-link" data-bs-toggle="modal" data-bs-target="#termsModal">
                                        <u style="color: blue; margin-left: 5px;">Terms of service</u>
                                    </a>
                                    </div>

                                    <div class="d-flex justify-content-center ">
                                    <input type="submit" data-mdb-button-init data-mdb-ripple-init class="btn btn-success btn-block btn-lg gradient-custom-4 text-body" 
                                        style="width: 100%;" id="submit" name="submit" value="Register">
                                    </input>
                                    </div>

                                    <p class="text-center text-muted mt-5 mb-0">Have already an account? <a href="/home/"
                                        class="fw-bold text-body"><u>Login here</u></a></p>

                                </form>
                                <!-- Modal -->
                                <div class="modal fade" id="termsModal" tabindex="-1" role="dialog" aria-labelledby="termsModalLabel" aria-hidden="true">
                                    <div class="modal-dialog" role="document">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h3 class="modal-title" id="termsModalLabel">[註冊須知文件]</h3>
                                            </div>
                                            <div class="modal-body" id="modalBody">
                                                <ol>   
                                                    <li>合約概述：
                                                        本文件構成您（以下簡稱“用戶”）與 [虛擬公司名稱]（以下簡稱“公司”）之間的合約。此文件約束用戶在公司網站或服務平台上的使用和註冊行為。</li>
                                                    <li>用戶資格：
                                                        用戶必須年滿 18 歲，或在當地法律規定的合格年齡以上，方可使用公司提供的註冊服務。未滿此年齡者須取得法定監護人同意。</li>
                                                    <li>用戶責任與義務:
                                                        用戶保證所提供的個人資料真實、準確且完整。如因資料虛假、不完整或過期導致的任何後果，公司概不負責。</li>
                                                    <li>隱私政策：
                                                        公司承諾保護用戶個人資料，並遵守相關的隱私法律和規範。用戶資料將僅用於提升服務體驗及依法進行必要操作。</li>
                                                    <li>使用條款：
                                                        用戶同意不會從事任何可能危害服務平台穩定、侵害其他用戶權益或違反法律的行為。任何違反規定的行為將導致帳號限制或終止。</li>
                                                    <li>服務中斷與終止
                                                        公司保留隨時修改或終止服務的權利，並在必要時提前通知用戶。因不可抗力或不可預見的技術問題導致的中斷，無需承擔賠償責任。</li>
                                                    <li>合約終止：
                                                        用戶可隨時申請終止帳號，終止後將無法使用與帳號相關的服務。公司在特定情況下可終止用戶帳號，如嚴重違規行為或安全風險。</li>
                                                    <li>法律適用：
                                                        本合約及其解釋適用於[適用的國家或地區]之法律。任何糾紛將由該法律管轄範圍內的法院處理。</li>
                                                    <li>同意與簽署：
                                                        用戶在提交註冊表單並閱讀本文件後，即視為同意並受此合約約束。</li>
                                                </ol>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" id="closeButton" disabled data-bs-dismiss="modal" >Close</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const form = document.querySelector("form");
            const password = document.getElementById("password");
            const passwordTwice = document.getElementById("password-twice");
            const agreeCheckbox  = document.getElementById("agree")
            const closeButton = document.getElementById("closeButton");
            form.addEventListener("submit", function(event) {
                if (password.value !== passwordTwice.value) {
                    event.preventDefault(); // 阻止表單提交
                    alert("密碼不相符，請重新輸入。");
    
                    // 加入震盪效果
                    passwordTwice.classList.add("shake");
                    passwordTwice.focus();
    
                    // 在動畫結束後移除震盪效果
                    passwordTwice.addEventListener("animationend", function() {
                        passwordTwice.classList.remove("shake");
                    }, { once: true });
                }
            });
           
            //<!--偵測 modal-body 的滾動情況，並在用戶滾動到內容的最底部時啟用「關閉」按鈕。-->
            document.getElementById('modalBody').addEventListener('scroll', function() {            //scroll 事件監聽器
                var body = document.getElementById('modalBody');                                
                if (body.scrollHeight - body.scrollTop <= body.clientHeight + 1) {                  //body.scrollHeight 是 modalBody 區域的總高度（包含不可見的滾動內容）。
                    closeButton.disabled = false;
                }
            });
            // 當 "Close" 按鈕被點擊時，勾選同意選項
            closeButton.addEventListener("click", function() {
                agreeCheckbox.checked = true;
            });
        });
    </script>



    

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>